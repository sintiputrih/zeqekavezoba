<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="Usually big.LITTLE HMP designs have all their cores online and available to the system, and migrate a more demanding process to the big cores only when necessary. This poses a problem for us when trying to isolate the performance of the little cores."><meta name=author content="Larita Shotwell"><meta name=generator content="Hugo 0.98.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/base16/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=./index.xml type=application/rss+xml title=BlogInfo><title>Cortex A53 - Performance and Power - ARM A53/A57/T760 investigated - BlogInfo</title></head><body><header><div class="container clearfix"><a class=path href=./index.html>[BlogInfo]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime=2024-02-26>February 26, 2024</time></span>
<span class=key>in</span>
<span class=val><a href=./categories/blog>blog</a></span></div><h1 class=headline itemprop=headline>Cortex A53 - Performance and Power - ARM A53/A57/T760 investigated</h1><section class=body itemprop=articleBody><h2>Cortex A53 - Synthetic Performance</h2><p>Usually big.LITTLE HMP designs have all their cores online and available to the system, and migrate a more demanding process to the big cores only when necessary. This poses a problem for us when trying to isolate the performance of the little cores.</p><p>Initially I was unable to turn off the cores via traditional methods such as simply hot-plugging the CPU cores, a method I used on Huawei's HiSilicon Kirin 920 for example. This caused a bit of a headache and I had to circumvent this by taking advantage of the Global Task Scheduling parameters of the kernel to block off any processes migrating over to the big cluster and enabling forceful down-migration on any entity that is forked on the big CPUs.</p><p>Later on, I finally found which mechanism was preventing me from turning off the cores properly - one of Samsung's own power management drivers that serves to hot plug cores when turning the screen off was keeping me from turning a CPU off while the screen was on. I disabled this driver at a later date after doing the performance and initial power measurement, and I re-verified and checked that my numbers were still valid, which luckily they were.</p><p>For starters, we turn to SPECint2000. Developed by the Standard Performance Evaluation Corporation, SPECint2000 is the integer component of their larger <a href=#>SPEC CPU2000 benchmark</a>. Designed around the turn of the century, officially SPEC CPU2000 has been retired for PC processors, but mobile processors are roughly a decade behind their PC counterparts in performance. Keeping that in mind it still provides an excellent benchmark for today's mobile phones and allows us to do single-threaded architectural comparisons between the competing CPU designs out there.</p><p>I'd also like to mention that we're still working with an ARMv7 version of the benchmark and thus it doesn't fully take advantage of the Exynos 5433's ARMv8 cores, even though it's limited to AArch32 by software for now.</p><table align=center border=0 cellpadding=0 cellspacing=1 width=600><tbody readability=1><tr class=tgrey readability=2><td align=center colspan=7>SPECint2000 - Estimated Scores</td></tr><tr class=tlblue><td>&nbsp;</td><td align=center valign=middle>Exynos 5430<br>(A7)</td><td align=center valign=middle>Exynos 5433<br>(A53)</td><td align=center valign=middle>% Advantage</td></tr><tr><td><strong>164.gzip</strong></td><td align=center>686</td><td align=center>814</td><td align=center>19%</td></tr><tr><td><strong>175.vpr</strong></td><td align=center>292</td><td align=center>272</td><td align=center>-7%</td></tr><tr><td><strong>176.gcc</strong></td><td align=center>431</td><td align=center>597</td><td align=center>39%</td></tr><tr><td><strong>177.mesa</strong></td><td align=center>505</td><td align=center>633</td><td align=center>25%</td></tr><tr><td><strong>179.art</strong></td><td align=center>225</td><td align=center>523</td><td align=center>132%</td></tr><tr><td><strong>181.mcf</strong></td><td align=center>202</td><td align=center>291</td><td align=center>44%</td></tr><tr><td><strong>186.crafty</strong></td><td align=center>342</td><td align=center>448</td><td align=center>31%</td></tr><tr><td><strong>197.parser</strong></td><td align=center>321</td><td align=center>348</td><td align=center>8%</td></tr><tr><td><strong>252.eon</strong></td><td align=center>677</td><td align=center>935</td><td align=center>38%</td></tr><tr><td><strong>253.perlbmk</strong></td><td align=center>393</td><td align=center>529</td><td align=center>35%</td></tr><tr><td><strong>254.gap</strong></td><td align=center>395</td><td align=center>544</td><td align=center>38%</td></tr><tr><td><strong>255.vortex</strong></td><td align=center>427</td><td align=center>529</td><td align=center>24%</td></tr><tr><td><strong>256.bzip2</strong></td><td align=center>344</td><td align=center>362</td><td align=center>5%</td></tr><tr><td><strong>300.twolf</strong></td><td align=center>302</td><td align=center>284</td><td align=center>-6%</td></tr></tbody></table><p>We're comparing the A7 in the Exynos 5430 versus the A53 in the Exynos 5433. Here we see an overall increase of 30% for the A53 cores. Both SoCs run the little clusters at the same frequency and thus it gives us a direct IPC comparison between the two architectures.</p><p>The biggest outlier here is the ART test, which is an image recognition / neural network workload that tests floating point rather than integer performance. There are also drops in performance on the VPR and TWOLF tests, which may be running into the L2 cache performance issues discussed on the previous page.</p><p>Our other synthetic performance benchmark is GeekBench 3. Here we're able to take advantage of at least the AArch32 mode of the CPU, which has a big impact on the crypto scores:</p><table align=center border=0 cellpadding=0 cellspacing=1 width=600><tbody readability=1><tr class=tgrey readability=2><td align=center colspan=7>GeekBench 3 - Integer Performance</td></tr><tr class=tlblue><td>&nbsp;</td><td align=center valign=middle>A7 (ARMv7)</td><td align=center valign=middle>A53 (AArch32)</td><td align=center valign=middle>% Advantage</td></tr><tr><td><strong>AES ST</strong></td><td align=center>23.1 MB/s</td><td align=center>662 MB/s</td><td align=center>1865%</td></tr><tr><td><strong>AES MT</strong></td><td align=center>89.4 MB/s</td><td align=center>2570 MB/s</td><td align=center>1874%</td></tr><tr><td><strong>Twofish ST</strong></td><td align=center>26.9 MB/s</td><td align=center>45.9 MB/s</td><td align=center>70%</td></tr><tr><td><strong>Twofish MT</strong></td><td align=center>101.8 MB/s</td><td align=center>277.2 MB/s</td><td align=center>172%</td></tr><tr><td><strong>SHA1 ST</strong></td><td align=center>53.9 MB/s</td><td align=center>281.2 MB/s</td><td align=center>421%</td></tr><tr><td><strong>SHA1 MT</strong></td><td align=center>210.8 MB/s</td><td align=center>1880 MB/s</td><td align=center>791%</td></tr><tr><td><strong>SHA2 ST</strong></td><td align=center>30.1 MB/s</td><td align=center>69.6 MB/s</td><td align=center>131%</td></tr><tr><td><strong>SHA2 MT</strong></td><td align=center>115.8 MB/</td><td align=center>330.6 MB/s</td><td align=center>185%</td></tr><tr><td><strong>BZip2Comp ST</strong></td><td align=center>1.95 MB/s</td><td align=center>2.09 MB/s</td><td align=center>7%</td></tr><tr><td><strong>BZip2Comp MT</strong></td><td align=center>5.52 MB/s</td><td align=center>11.7 MB/s</td><td align=center>111%</td></tr><tr><td><strong>Bzip2Decomp ST</strong></td><td align=center>2.83 MB/</td><td align=center>3.24 MB/s</td><td align=center>14%</td></tr><tr><td><strong>Bzip2Decomp MT</strong></td><td align=center>7.41 MB/s</td><td align=center>14.0 MB/s</td><td align=center>89%</td></tr><tr><td><strong>JPG Comp ST</strong></td><td align=center>6.84 MP/s</td><td align=center>9.95 MPs</td><td align=center>45%</td></tr><tr><td><strong>JPG Comp MT</strong></td><td align=center>26.2 MP/s</td><td align=center>59.5 MP/s</td><td align=center>127%</td></tr><tr><td><strong>JPG Decomp ST</strong></td><td align=center>11.4 MP/s</td><td align=center>14.3 MP/s</td><td align=center>25%</td></tr><tr><td><strong>JPG Decomp MT</strong></td><td align=center>43.1 MP/s</td><td align=center>72.0 MP/s</td><td align=center>67%</td></tr><tr><td><strong>PNG Comp ST</strong></td><td align=center>0.51 MP/s</td><td align=center>0.591 MP/s</td><td align=center>16%</td></tr><tr><td><strong>PNG Comp MT</strong></td><td align=center>1.28 MP/s</td><td align=center>2.49 MP/s</td><td align=center>94%</td></tr><tr><td><strong>PNG Decomp ST</strong></td><td align=center>7.35 MP/s</td><td align=center>9.68 MP/s</td><td align=center>31%</td></tr><tr><td><strong>PNG Decomp MT</strong></td><td align=center>25.2 MPs</td><td align=center>39.2 MP/s</td><td align=center>55%</td></tr><tr><td><strong>Sobel ST</strong></td><td align=center>18.2 MP/s</td><td align=center>22.0 MP/s</td><td align=center>21%</td></tr><tr><td><strong>Sobel MT</strong></td><td align=center>67.7 MP/s</td><td align=center>103.8 MP/s</td><td align=center>53%</td></tr><tr><td><strong>Lua ST</strong></td><td align=center>0.469 MB/s</td><td align=center>0.579 MB/s</td><td align=center>23%</td></tr><tr><td><strong>Lua MT</strong></td><td align=center>1.42 MB/s</td><td align=center>1.75 MB/s</td><td align=center>23%</td></tr><tr><td><strong>Dijkstra ST</strong></td><td align=center>2.31 Mpairs/s</td><td align=center>2.84 Mpairs/s</td><td align=center>23%</td></tr><tr><td><strong>Dijkstra MT</strong></td><td align=center>6.7 Mpairs/s</td><td align=center>11 Mpairs/s</td><td align=center>64%</td></tr></tbody></table><p>Due to new cryptographic instructions in the ARMv8 ISA we see huge improvements in the AES and SHA tests, not too different from the increase we saw when Apple introduced the A7 in the iPhone 5S. However, if we disregard the crypto benchmarks, we see a more reasonable but still very impressive average improvement of 49% across the rest of the benchmarks. Only the BZip compression and decompression tests show only minor improvement in their single-threaded runs, which oddly enough were not reproduced in the multi-threaded runs.</p><table align=center border=0 cellpadding=0 cellspacing=1 width=600><tbody readability=1><tr class=tgrey readability=2><td align=center colspan=7>GeekBench 3 - Floating Point Performance</td></tr><tr class=tlblue><td>&nbsp;</td><td align=center valign=middle>A7 (ARMv7)</td><td align=center valign=middle>A53 (AArch32)</td><td align=center valign=middle>% Advantage</td></tr><tr><td><strong>BlackScholes ST</strong></td><td align=center>1.68 Mnodes/s</td><td align=center>2.12 Mnodes/s</td><td align=center>26%</td></tr><tr><td><strong>BlackScholes MT</strong></td><td align=center>6.53 Mnodes/s</td><td align=center>12.9Mnodes/s</td><td align=center>97%</td></tr><tr><td><strong>Mandelbrot ST</strong></td><td align=center>448.6 MFLOPS</td><td align=center>519.7 MFLOPS</td><td align=center>15%</td></tr><tr><td><strong>Mandelbrot MT</strong></td><td align=center>1.75 GFLOPS</td><td align=center>3.44 GFLOPS</td><td align=center>96%</td></tr><tr><td><strong>Sharpen Filter ST</strong></td><td align=center>305.5 MFLOPS</td><td align=center>607.2MFLOPS</td><td align=center>99%</td></tr><tr><td><strong>Sharpen Filter MT</strong></td><td align=center>1.17 GFLOPS</td><td align=center>2.69 GFLOPS</td><td align=center>129%</td></tr><tr><td><strong>Blur Filter ST</strong></td><td align=center>0.365 GFLOPS</td><td align=center>0.488 GFLOPS</td><td align=center>33%</td></tr><tr><td><strong>Blur Filter MT</strong></td><td align=center>1.44 GFLOPS</td><td align=center>2.95 GFLOPS</td><td align=center>11%</td></tr><tr><td><strong>SGEMM ST</strong></td><td align=center>0.601 GFLOPS</td><td align=center>0.577 GFLOPS</td><td align=center>104%</td></tr><tr><td><strong>SGEMM MT</strong></td><td align=center>0.869 GFLOPS</td><td align=center>3.78 GFLOPS</td><td align=center>339%</td></tr><tr><td><strong>DGEMM ST</strong></td><td align=center>0.234 GFLOPS</td><td align=center>0.239 GFLOPS</td><td align=center>2%</td></tr><tr><td><strong>DGEMM MT</strong></td><td align=center>0.578 GFLOPS</td><td align=center>2.52 GFLOPS</td><td align=center>342%</td></tr><tr><td><strong>SFFT ST</strong></td><td align=center>0.318 GFLOPS</td><td align=center>1.22 GFLOPS</td><td align=center>283%</td></tr><tr><td><strong>SFFT MT</strong></td><td align=center>1.27 GFLOPS</td><td align=center>4.89 GFLOPS</td><td align=center>285%</td></tr><tr><td><strong>DFFT ST</strong></td><td align=center>215.3 MFLOPS</td><td align=center>919.8 MFLOPS</td><td align=center>327%</td></tr><tr><td><strong>DFFT MT</strong></td><td align=center>0.758 GFLOPS</td><td align=center>3.01 GFLOPS</td><td align=center>297%</td></tr><tr><td><strong>N-Body ST</strong></td><td align=center>147.1 Kpairs/s</td><td align=center>381.4 Kpairs/s</td><td align=center>159%</td></tr><tr><td><strong>N-Body MT</strong></td><td align=center>0.504 Mpairs/s</td><td align=center>1.54 Mpairs/s</td><td align=center>205%</td></tr><tr><td><strong>Ray Trace ST</strong></td><td align=center>0.598 MP/s</td><td align=center>1.72 MP/s</td><td align=center>187%</td></tr><tr><td><strong>Ray Trace MT</strong></td><td align=center>2.30 MP/s</td><td align=center>7.24 MP/s</td><td align=center>214%</td></tr></tbody></table><p>In the floating point performance benchmarks we again see massive improvements, with many scores being twice or even three times the performance of the A7. Again there's a peculiarity in that the multi-threaded scores show a higher improvement over the A7 than the single-threaded tests.</p><h2>Power Consumption</h2><p>Testing out power consumption on the little cores was a bit tricky as I needed to remain on the little clusters without spilling over four threads that might wake up the big cores. For this, I use hot-plugging to disable the cores that we're not measuring directly to avoid any power overhead caused by unwanted activity that might occur on the big cluster.</p><p>To get to these figures, I derived the power numbers by measuring total energy consumption during each test for a 1 minute period and repeated this several times to ensure the accuracy of the numbers. Power of the screen has also been subtracted via the same methodology and verified that it is accurate enough to give a pure representation of the load power of the SoC only. On both devices the GPU and display pipeline are power-gated and as such the load power should consist primarily of the regulator overheads, CPU cores, L2 caches, system memory and interconnect bus interfaces.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/8718/little-cluster_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>When loading a various number of threads on the little cluster we see some interesting numbers when comparing the 5430 to the 5433. First of all, it's obvious that the A53 is more power hungry than the A7. The surprise is that this factor seems to be quite big. For the A7, we see a base 213mW system load power when firing up one thread, with decreasing increments for each additional thread. We see 99, 75, and 66 mW additional power for the added threads.</p><p>I'm not quite sure why the numbers are diminishing here - I first thought that the scheduler would've been fast enough to try to fill the cores' capacity causing each additional core to have more idle time to itself since we're targeting a 96% load per thread. But that's not the case, as each thread was on its own core and the load was evenly distributed.</p><p>Looking at the A53, we see a similar story but with inflated figures. The base 271mW load power with one thread is a tad higher for the new ARMv8 cores than for the A7, and that difference gets bigger with each additional thread we run.</p><p>Initially I had tested these figures without shutting down the cores individually, and used the HMP scheduler controls to isolate the big cluster, which led me to the further investigations in the scheduler. It seems that the current GTS implementation delivered on these devices is still lacking a feature called "Small Task Packing". Small task packing allows the scheduler to try and pack low-load tasks onto an already woken up CPU core instead of spreading the load throughout the cores of the cluster.</p><p>In case of the current big.LITTLE implementations, spreading loads throughout the cluster is a disadvantageous strategy as it forces cores to come out of their independent power collapse states on a frequent basis. I'm not sure if that's why we're seeing diminishing power consumption numbers with increased thread count; the low-thread power numbers may be inflated by rogue idle wake-ups on the what should have been remaining idle cores. This delta decreases as we increase thread count and thus CPUs which are awake, so this would be a sensible explanation of the effect.</p><p>To verify this I re-ran a full power analysis on the full frequency curve of the CPU while isolating the cores via hot plugging. This should avoid any incorrect measurements that would have occurred by the other method.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/8718/A53-power-curve_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>The effect is repeated here too, but only the highest frequency of the A53, it was harder to notice on the lower frequencies. The interesting thing about the curves to notice is that power goes up by a relatively large amount after the 1GHz P-state. This also correlates with a higher voltage bump from 962.5mV on the 900MHz state to 1025mV and up at higher frequencies.</p><p>What we're left with is a rough estimate of per-core power load for both the A7 and the A53 at their highest frequencies of 1300MHz. I calculated this number by trying to account for the cluster power overhead and just look at the power of the cores themselves:</p><table border=1 cellpadding=1 cellspacing=1 width=600><tbody readability=1><tr class=tgrey readability=2><td colspan=4>Estimated Little Per-Core Power Consumption</td></tr><tr class=tlblue><td>&nbsp;</td><td>A7 (Exynos 5430)</td><td>A53 (Exynos 5433)</td><td>Increase</td></tr><tr><td class=tlgrey>Little per-core load</td><td>~85mW</td><td>~189mW</td><td>122%</td></tr></tbody></table><p>I think it's safe to say the A53 consumes a little over twice the power of an A7 core given almost the same SoC platform. This seems a lot given the actual performance increase is much less than that; it would mean that the performance/Watt (perf/W) has actually gone down with the A53. We also have to keep in mind that the A53 adds a lot of new silicon to the die, so let's look at the block sizes between the A7 and the A53:</p><table border=1 cellpadding=1 cellspacing=1 width=600><tr class=tgrey><td align=center colspan=5>A7 vs A57 Block Sizes</td></tr><tbody><tr class=tlblue><td>&nbsp;</td><td>A7 (Exynos 5430)</td><td>A53 (Exynos 5433)</td><td>Scaling Factor</td></tr><tr><td class=tlgrey>Core</td><td>0.40mm²</td><td>0.70mm²</td><td>1.75</td></tr><tr><td class=tlgrey>Cluster</td><td>3.30mm²</td><td>4.58mm²</td><td>1.38</td></tr></tbody></table><p>While still maintaining rather minuscule core sizes of under 1mm², the A53 is still 1.75 times bigger than an A7 core on the same process node. The total cluster size difference comes in at a lesser 1.38x factor, but that is because the cache sizes have remained the same between the two implementations.</p><p>To try to actually measure a realistic and real-world scenario of perf/W, I tried hard to find a good test-load. After some searching around and trying out various items from our benchmark suite, I ended up focusing on BaseMark OS II's XML sub-test. The test is a good candidate because it offers a scaling load with three threads that put both a high load on some cores and let others exercise their power management states at the same time, definitely behavior you would see in day-to-day applications.</p><table border=1 cellpadding=1 cellspacing=1 width=600><tr class=tgrey readability=2><td align=center colspan=5>BaseMark OS II - XML Parsing Energy Efficiency</td></tr><tbody><tr class=tlblue><td>&nbsp;</td><td>Performance</td><td>Energy</td><td>Performance/Energy</td></tr><tr><td class=tlgrey><strong>A7 (Exynos 5430)</strong></td><td>77.93MB/s</td><td>10.56mWh</td><td>~7.38</td></tr><tr><td class=tlgrey><strong>A53 (Exynos 5433)</strong></td><td>109.36MB/s</td><td>17.11mWh</td><td>~6.39</td></tr></tbody></table><p>Indeed we see that the A53 is able to achieve greater performance than the A7, but at a greater added cost of energy than the performance increase itself. The effect is that the overall perf/W went down by 15% in this particular test. This is an interesting metric as it validates the continued existence of standalone A7 SoCs over A53 designs, with the new A53 cores being something like an extension to the perf/W curve.</p><p>All in call, I think ARM made the right choices here with the A53. The performance increases were definitely needed - not only for standalone SoCs which rely solely on the A53, but also for big.LITTLE SoCs. What I hope to see in the future is more aggressively clocked A53 implementations going beyond the 1.5-1.7GHz that we currently see as the upper limits in SoCs such as the Snapdragon 810 and the Snapdragon 615. The question is whether clock increases and coming upgrades to the memory systems such as the introduction of LPDDR4 memory next year will be enough to keep the core competitive. I certainly hope, and think so.</p><p>While we have a good impression of the A53 cores, actual high-end performance is delivered by the A57 cores. So let's have a look and repeat our exercise for the A57.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZIV4fZdoq6GdXaiurr%2FUp55mn5GhrrnFjKemrZ1daXqmxNinpqxloprDqrHWaGs%3D</p></section></article></main></div><footer><div class=container><span class=copyright>&copy; 2024 BlogInfo - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a></span></div></footer><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/banner.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>